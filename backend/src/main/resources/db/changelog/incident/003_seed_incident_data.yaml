databaseChangeLog:
  - changeSet:
      id: seed_incident
      author: Yoshua
      comment: "Inserta incidentes de ejemplo reportados en el hotel."
      changes:
        # Incidente 1: Fuga de agua en habitación 101
        - insert:
            tableName: incident
            columns:
              - column: { name: type, value: "FUGA_AGUA" }
              - column: { name: area, value: "HABITACION" }
              - column: { name: location_detail, value: "Baño de la habitación 101" }
              - column: { name: description, value: "Fuga en el grifo del lavamanos, el agua no para de correr." }
              - column: { name: priority, value: "ALTA" }
              - column: { name: team, value: "MANTENIMIENTO" }
              - column: { name: reported_by, value: "4" } # Usuario de limpieza
              - column: { name: room_id, value: "1" }
        # Incidente 2: Problema eléctrico en habitación 201
        - insert:
            tableName: incident
            columns:
              - column: { name: type, value: "ELECTRICIDAD" }
              - column: { name: area, value: "HABITACION" }
              - column: { name: location_detail, value: "Enchufes de la habitación 201" }
              - column: { name: description, value: "Los enchufes no funcionan, no hay corriente." }
              - column: { name: priority, value: "CRITICA" }
              - column: { name: team, value: "MANTENIMIENTO" }
              - column: { name: reported_by, value: "2" } # Recepcionista
              - column: { name: room_id, value: "3" }
        # Incidente 3: Ruido en pasillo del piso 3
        - insert:
            tableName: incident
            columns:
              - column: { name: type, value: "RUIDO" }
              - column: { name: area, value: "PASILLO" }
              - column: { name: location_detail, value: "Pasillo del tercer piso" }
              - column: { name: description, value: "Ruido constante de golpes en el pasillo durante la noche." }
              - column: { name: priority, value: "MEDIA" }
              - column: { name: team, value: "RECEPCION" }
              - column: { name: reported_by, value: "1" } # Admin
        # Incidente 4: Deterioro de mobiliario en área común
        - insert:
            tableName: incident
            columns:
              - column: { name: type, value: "DETERIORO_MOBILIARIO" }
              - column: { name: area, value: "AREA_COMUN" }
              - column: { name: location_detail, value: "Sala de espera principal" }
              - column: { name: description, value: "Sillón roto en la sala de espera, necesita reparación o reemplazo." }
              - column: { name: priority, value: "BAJA" }
              - column: { name: team, value: "MANTENIMIENTO" }
              - column: { name: reported_by, value: "2" } # Recepcionista
        # Incidente 5: Limpieza urgente en habitación 301
        - insert:
            tableName: incident
            columns:
              - column: { name: type, value: "LIMPIEZA" }
              - column: { name: area, value: "HABITACION" }
              - column: { name: location_detail, value: "Habitación 301" }
              - column: { name: description, value: "Derrame de bebida en la alfombra, requiere limpieza inmediata." }
              - column: { name: priority, value: "ALTA" }
              - column: { name: team, value: "LIMPIEZA" }
              - column: { name: reported_by, value: "4" } # Usuario de limpieza
              - column: { name: room_id, value: "5" }
  - changeSet:
      id: seed_incident_history
      author: Yoshua
      comment: "Inserta historial de cambios de estado para los incidentes."
      changes:
        # Historial para Incidente 1: Fuga de agua (PENDIENTE -> EN_PROCESO)
        - insert:
            tableName: incident_history
            columns:
              - column: { name: incident_id, value: "1" }
              - column: { name: old_status, value: "PENDIENTE" }
              - column: { name: new_status, value: "EN_PROCESO" }
              - column: { name: changed_by, value: "3" } # Mantenimiento
              - column: { name: changed_at, valueDate: "2025-10-15 09:00:00" }
              - column: { name: note, value: "Asignado al equipo de mantenimiento para reparación." }
        # Historial para Incidente 1: EN_PROCESO -> RESUELTA
        - insert:
            tableName: incident_history
            columns:
              - column: { name: incident_id, value: "1" }
              - column: { name: old_status, value: "EN_PROCESO" }
              - column: { name: new_status, value: "RESUELTA" }
              - column: { name: changed_by, value: "3" } # Mantenimiento
              - column: { name: changed_at, valueDate: "2025-10-15 12:00:00" }
              - column: { name: note, value: "Fuga reparada, grifo reemplazado." }
        # Historial para Incidente 2: Problema eléctrico (PENDIENTE -> EN_PROCESO)
        - insert:
            tableName: incident_history
            columns:
              - column: { name: incident_id, value: "2" }
              - column: { name: old_status, value: "PENDIENTE" }
              - column: { name: new_status, value: "EN_PROCESO" }
              - column: { name: changed_by, value: "3" } # Mantenimiento
              - column: { name: changed_at, valueDate: "2025-10-16 10:00:00" }
              - column: { name: note, value: "Técnico asignado para revisión." }
        # Historial para Incidente 3: Ruido en pasillo (PENDIENTE -> RESUELTA)
        - insert:
            tableName: incident_history
            columns:
              - column: { name: incident_id, value: "3" }
              - column: { name: old_status, value: "PENDIENTE" }
              - column: { name: new_status, value: "RESUELTA" }
              - column: { name: changed_by, value: "1" } # Admin
              - column: { name: changed_at, valueDate: "2025-10-16 15:00:00" }
              - column: { name: note, value: "Se identificó la fuente del ruido y se solucionó." }
        # Historial para Incidente 4: Deterioro de mobiliario (PENDIENTE -> EN_PROCESO)
        - insert:
            tableName: incident_history
            columns:
              - column: { name: incident_id, value: "4" }
              - column: { name: old_status, value: "PENDIENTE" }
              - column: { name: new_status, value: "EN_PROCESO" }
              - column: { name: changed_by, value: "3" } # Mantenimiento
              - column: { name: changed_at, valueDate: "2025-10-17 08:30:00" }
              - column: { name: note, value: "Sillón retirado para reparación." }
        # Historial para Incidente 5: Limpieza urgente (PENDIENTE -> EN_PROCESO)
        - insert:
            tableName: incident_history
            columns:
              - column: { name: incident_id, value: "5" }
              - column: { name: old_status, value: "PENDIENTE" }
              - column: { name: new_status, value: "EN_PROCESO" }
              - column: { name: changed_by, value: "4" } # Limpieza
              - column: { name: changed_at, valueDate: "2025-10-17 11:00:00" }
              - column: { name: note, value: "Equipo de limpieza en camino." }
